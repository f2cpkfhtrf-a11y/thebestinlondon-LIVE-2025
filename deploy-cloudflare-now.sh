#!/bin/bash

echo "ğŸš€ DEPLOYING TO CLOUDFLARE PAGES - STEP BY STEP"
echo "=============================================="
echo ""
echo "Chrome should be open at: Cloudflare Pages Create"
echo ""
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "STEP 1: CONNECT GITHUB"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "In Chrome:"
echo "  1. Click 'Connect to Git' button"
echo "  2. Click 'GitHub'"
echo ""
read -p "âœ… Done? Press Enter..."
echo ""
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "STEP 2: SELECT REPOSITORY"  
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "  1. Find: f2cpkfhtrf-a11y/thebestinlondon-LIVE-2025"
echo "  2. Click on it"
echo "  3. Click 'Begin setup'"
echo ""
read -p "âœ… Done? Press Enter..."
echo ""
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "STEP 3: BUILD CONFIGURATION"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "Enter EXACTLY these settings:"
echo ""
echo "  Project name: thebestinlondon"
echo "  Production branch: main"
echo "  Framework preset: Next.js"
echo "  Build command: npm run build"
echo "  Build output: .next"
echo ""
read -p "âœ… All entered? Press Enter..."
echo ""
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "STEP 4: ENVIRONMENT VARIABLES (CRITICAL!)"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "âš ï¸  CRITICAL: Your site won't work without this!"
echo ""
echo "  1. Scroll down to 'Environment variables'"
echo "  2. Click 'Add variable'"
echo "  3. Variable name:"
echo ""
echo "     NEXT_PUBLIC_GOOGLE_PLACES_KEY"
echo ""
echo "  4. Variable value (COPY THIS EXACTLY):"
echo ""
echo "     AIzaSyCOYUi9A598QJGWk7hZK0_6_ojdvSNhZhw"
echo ""
echo "  5. Click 'Save' or press Enter"
echo ""
read -p "âœ… Environment variable added? Press Enter..."
echo ""
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "STEP 5: DEPLOY!"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "  1. Scroll to bottom"
echo "  2. Click 'Save and Deploy' (big blue button)"
echo ""
read -p "âœ… Clicked 'Save and Deploy'? Press Enter..."
echo ""
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "â³ BUILD IN PROGRESS"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "Watch the build in your browser!"
echo ""
echo "You'll see:"
echo "  â€¢ Initializing build environment"
echo "  â€¢ Cloning repository"
echo "  â€¢ Installing dependencies (1-2 min)"
echo "  â€¢ Building application (1-2 min)"
echo "  â€¢ Deploying to Cloudflare's network"
echo "  â€¢ âœ… Success!"
echo ""
echo "â±ï¸  Total time: 2-4 minutes"
echo ""
read -p "â³ Press Enter when you see 'Success' in browser..."
echo ""
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "ğŸ‰ DEPLOYMENT COMPLETE!"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "Your site is LIVE at:"
echo ""
echo "  https://thebestinlondon.pages.dev"
echo ""
echo "Opening in browser..."
sleep 2
open "https://thebestinlondon.pages.dev"
echo ""
echo "âœ… Site opened!"
echo ""
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "ğŸŠ YOU'RE LIVE!"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "âœ… 459 restaurants live"
echo "âœ… All features working"
echo "âœ… Auto-deploys on git push"
echo "âœ… Daily refresh at 2 AM"
echo ""
echo "ğŸš€ NEXT: Connect your custom domain?"
echo ""
read -p "Want to connect thebestinlondon.co.uk now? (y/n): " connect_domain
echo ""
if [ "$connect_domain" = "y" ] || [ "$connect_domain" = "Y" ]; then
    echo "Opening custom domain settings..."
    open "https://dash.cloudflare.com/9947c88df88e197e6588e6f5fdb734a6/pages/view/thebestinlondon/domains"
    echo ""
    echo "In the browser:"
    echo "  1. Click 'Set up a custom domain'"
    echo "  2. Enter: thebestinlondon.co.uk"
    echo "  3. Click 'Continue'"
    echo "  4. Cloudflare will configure DNS automatically!"
    echo ""
else
    echo "No problem! You can do this anytime from:"
    echo "Project â†’ Custom domains â†’ Set up a custom domain"
fi
echo ""
echo "ğŸ‰ CONGRATULATIONS! Your site is LIVE!"
echo ""
